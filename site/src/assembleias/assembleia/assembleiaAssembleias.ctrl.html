<link rel="stylesheet" href="src/assembleias/assembleia/assembleiaAssembleias.ctrl.css">

<div class="header">
    <div header></div>
</div>

<div class="row container-fluid ba__body-content ba__full-width">
    <!--CONTAINER MENU-->
    <div sidebar></div>
    <!--CONTAINER SISTEMA-->
    <div class="col-xs-21 ba__admin-container">
        <!-- INICIO Tela CATEGORIA DE USUÁRIOS-->
        
        <div class="col-xs-24 ba__admin-container-list">

            <!-- Search -->
            <div class="row ba__admin-busca">
                <div class="col-xs-24 input-group ba__admin-busca-input" style="float: left; border: none!important; height: 30px; margin-left: 20px">
                    <span class="input-group-addon" style="height: 60px"></span>
                    <select class="col-xs-3 ba__adminSelectBusca" ng-change="pesquisaChange()" ng-init="search.type = 'nome'" ng-model="search.type"
                            style="height: 50px; border-bottom: 1px solid #cccccc;padding-left: 20px;">
                        <option value="nome">Nome</option>
                    </select>
                    <input type="text" class="col-xs-4 ba__margin-left-15" ng-model="search.nome" style="height: 50px; border-bottom: 1px solid #cccccc;">
                    <button type="button" class="btn btn-primary col-xs-3 col-xs-offset-1 uppercase" style="margin-top: 7px" ng-click="checkData(search) && pesquisar(search)">
                        Pesquisar
                        <i class="icon-ba-search"></i>
                    </button>
                </div>
            </div>
            <!-- Search -->

            <!-- Nova Assembleia -->
            <div class="row" style="height: auto; margin: 10px 2%">
                <div class="row ba__margin-top-20">
                    <h3 class="col-md-17 Roboto-Light">
                        <strong>{{listAssembleias.length || 0}}</strong> Registros encontrados</h3>
                    <button type="button" class="btn btn-success col-xs-offset-3 col-xs-4 uppercase" style="margin-top: 12px"
                            data-toggle="modal" ng-click="createNovoLocal()" ng-if="accessPagina.inserir">
                        NOVA ASSEMBLEIA
                    </button>
                </div>
            </div>
            <!-- Nova Assembleia -->

            <!-- Table List-->
            <div class="ba__admin-table" style="margin: 20px">
                <a class="list-group-item lista-head">
                    <div class="row uppercase titulo-lista">
                        <div class="col-xs-6" style="cursor: pointer;" ng-click="sort('id')"><b>Título</b> {{prop=='id'&&(reverse?'⬆':'⬇')||''}}
                            <i class="ba__margin-horizontal-5"></i>
                        </div>
                        <div class="col-xs-4" style="cursor: pointer;" ng-click="sort('nome')"><b>status</b> {{prop == 'nome'&&(reverse?'⬆':'⬇')||''}}
                            <i class="ba__margin-horizontal-5"></i>
                        </div>
                        <div class="col-xs-4" style="cursor: pointer;" ng-click="sort('descricao')"><b>Início</b> {{prop=='descricao'&&(reverse?'⬆':'⬇')||''}}
                            <i class="ba__margin-horizontal-5"></i>
                        </div>
                        <div class="col-xs-4" style="cursor: pointer;" ng-click="sort('capacidade')"><b>Tipo</b> {{prop=='capacidade'&&(reverse?'⬆':'⬇')||''}}
                            <i class="ba__margin-horizontal-5"></i>
                        </div>
                        <div class="col-xs-4" style="cursor: pointer;" ng-click="sort('capacidade')"><b>Local</b> {{prop=='capacidade'&&(reverse?'⬆':'⬇')||''}}
                            <i class="ba__margin-horizontal-5"></i>
                        </div>
                        <div class="col-xs-2 text-right" style="cursor: pointer;"></div>

                    </div>
                </a>
                <div class="list-group">
                    <a href="javascript:void(0)" ng-click="editarLocal(local.id)" 
                        class="list-group-item"
                        ng-repeat="assembleia in listAssembleias">
                        <h5 class="col-xs-6 list-group-item-heading">{{assembleia.titulo}}</h5>
                        <h5 class="col-xs-4 list-group-item-heading">
                            <span class="badge-style {{assembleia.status.toLowerCase() === 'agendada' ? ' badge-agendada' : assembleia.status.toLowerCase() === 'encerrada' ? ' badge-encerrada' : 'badge-em-andamento' }}">
                                {{ assembleia.status }}
                            </span>
                        </h5>
                        <h5 class="col-xs-4 list-group-item-heading">
                            {{ converteDateParaPtBR(assembleia.date) }} ás {{ assembleia.hora }}
                        </h5>
                        <h5 class="col-xs-4 list-group-item-heading">{{assembleia.tipo}}</h5>
                        <h5 class="col-xs-4 list-group-item-heading">{{assembleia.local}}</h5>
                        <h5 class="col-xs-2 list-group-item-heading text-right">
                            <i class="fa fa-eye"></i>
                        </h5>
                    </a>
                </div>

            </div>
            <!-- Table List-->

        </div>
    </div>
</div>